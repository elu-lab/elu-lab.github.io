import{h as x,m as A,n as B}from"./util.71f2e468.js";import{B as N}from"./bibtex-parse.1bbbaa52.js";import{_ as h}from"./lodash.82e2f9b4.js";import{N as a,O as i,R as r,V as m,k as l,M as g,S as n,Z as T,U as f,F as y,W as _,X as I,Y as V}from"./@vue.e8a385ec.js";import{_ as b}from"./placeholder.091cf2cc.js";import{k as R,s as E,o as C,t as O,u as W,v as w,m as z,p as S,w as k,x as U,n as L,y as H,z as M,A as P,a as v,j as D}from"./vuetify.bbe57071.js";import{_ as F}from"./plugin-vueexport-helper.2444895f.js";const K={class:"text-center mb-3 text-indigo-darken-4"},Y={class:"v-col-12"},j={class:"text-indigo-accent-2"},q={class:"mr-2"};function G(t,e,d,Z,c,u){return a(),i(D,null,{default:r(()=>[m("h1",K,[l(R,{class:"ma-2",size:"small"},{default:r(()=>[g("mdi-file-document-multiple")]),_:1}),m("span",null,n(d.lang==="ko"?"\uB17C\uBB38\uC2E4\uC801":"Publications"),1)]),l(E,null,{default:r(()=>[l(C,null,{default:r(()=>[l(O,{cols:"4"},{default:r(()=>[l(W,{chips:"",multiple:"",placeholder:"Tags",modelValue:c.tagSelected,"onUpdate:modelValue":e[0]||(e[0]=o=>c.tagSelected=o),items:c.allTags,onBlur:e[1]||(e[1]=o=>u.search())},null,8,["modelValue","items"])]),_:1}),l(O,{cols:"8"},{default:r(()=>[l(w,{label:"Word to search",modelValue:c.searchWord,"onUpdate:modelValue":e[2]||(e[2]=o=>c.searchWord=o),onBlur:e[3]||(e[3]=o=>u.search()),onKeypress:[e[4]||(e[4]=T(o=>u.search(),["space"])),e[5]||(e[5]=T(o=>u.search(),["enter"]))]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(a(!0),f(y,null,_(u.yearCategorizedItems,o=>(a(),i(C,null,{default:r(()=>[m("div",Y,[m("h1",j,n(o[0]),1)]),(a(!0),f(y,null,_(o[1],s=>(a(),f("div",{class:I(s.key===c.abstractOpen?"v-col-12 v-col-md-6":"v-col-6 v-col-md-3")},[l(z,{color:s.key===c.abstractOpen?"grey-lighten-3":"",elevation:"3"},{default:r(()=>[s.key!==c.abstractOpen?(a(),i(S,{key:0,class:"align-end","lazy-src":b,src:"/img/paper/"+s.key+".png",height:"8em",cover:""},null,8,["src"])):V("",!0),l(k,{class:"mb-0 pb-0 mt-2"},{default:r(()=>[(a(!0),f(y,null,_(s.AUTHOR,p=>(a(),f("span",q,n(p)+";",1))),256))]),_:2},1024),l(U,{class:"my-0 py-0"},{default:r(()=>[g(n(s.TITLE),1)]),_:2},1024),s.type==="inproceedings"?(a(),i(k,{key:1,class:"mt-0 pt-0 font-italic text-right"},{default:r(()=>[g("@ "+n(s.SERIES)+" conference",1)]),_:2},1024)):s.type==="article"?(a(),i(k,{key:2,class:"mt-0 pt-0 font-italic text-right"},{default:r(()=>[g(n(s.JOURNAL)+" "+n(s.VOLUME)+", No. "+n(s.NUMBER),1)]),_:2},1024)):V("",!0),s.key===c.abstractOpen?(a(),i(L,{key:3},{default:r(()=>[l(S,{"lazy-src":b,src:"/img/paper/"+s.key+".png","aspect-ratio":"1.66",cover:""},null,8,["src"]),m("p",null,n(s.ABSTRACT),1)]),_:2},1024)):V("",!0),l(H,null,{default:r(()=>[(a(!0),f(y,null,_(s.tags,p=>(a(),i(M,{size:"small",color:u.tagColor(p)},{default:r(()=>[g(n(p),1)]),_:2},1032,["color"]))),256)),l(P),l(v,{size:"small",icon:"mdi-text",color:"blue",onClick:p=>u.toggleAbstract(s)},null,8,["onClick"]),s.DOI?(a(),i(v,{key:0,size:"small",icon:"mdi-link",color:"green",onClick:p=>u.openLink(s)},null,8,["onClick"])):V("",!0)]),_:2},1024)]),_:2},1032,["color"])],2))),256))]),_:2},1024))),256))]),_:1})}const J={name:"Pub",props:["lang"],data(){return{items:[],allItems:[],abstractOpen:"",allTags:[],tagSelected:[],searchWord:""}},mounted(){x(["data","publications.bib"],t=>{this.items=h.sortBy(N.entries(t).map(e=>(e.forSearch=(e.NOTE+" "+e.AUTHOR+" "+e.TITLE+" "+e.ABSTRACT).toLowerCase(),e.tags=e.NOTE?e.NOTE.split(" "):[],e.MONTH=A(e.MONTH),e.AUTHOR=B(e.AUTHOR),e)),[e=>-e.YEAR,e=>-e.MONTH]),this.allTags=h.uniq(this.items.flatMap(e=>e.tags)),this.allItems=this.items,this.tagSelected=[],this.searchWord=""},t=>{})},methods:{openLink(t){window.open("https://doi.org/"+t.DOI)},toggleAbstract(t){this.abstractOpen===t.key?this.abstractOpen="":this.abstractOpen=t.key},tagColor(t){return t.startsWith("#BK")||t.startsWith("#SCI")?"red":t.startsWith("#Domestic")?"grey":t.startsWith("#Application")?"orange":"indigo"},search(){this.items=this.allItems.filter(t=>{if(this.tagSelected&&h.some(this.tagSelected,e=>!t.tags.includes(e)))return!1;if(this.searchWord){const e=this.searchWord.split(" ");for(let d of e)if(d=d.toLowerCase(),!t.forSearch.includes(d))return!1}return!0})}},computed:{yearCategorizedItems(){return h.sortBy(Object.entries(h.groupBy(this.items,t=>t.YEAR)),t=>-t[0])}}},X=F(J,[["render",G]]),le={__name:"Publication",setup(t){return(e,d)=>(a(),i(X))}};export{le as default};
